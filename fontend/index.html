<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªá Th·ªëng ƒê·∫∑t S√¢n C·∫ßu L√¥ng</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold text-success" href="#">
                üè∏ BookingBadminton
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>`
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Trang ch·ªß</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#booking-section">ƒê·∫∑t S√¢n</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">L·ªãch s·ª≠ ƒë·∫∑t</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link btn btn-primary text-white ms-lg-2 rounded-pill px-3" href="#">ƒêƒÉng nh·∫≠p</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <header class="hero-section mb-5">
        <div class="container">
            <h1 class="display-4">ƒê·∫∑t S√¢n C·∫ßu L√¥ng Nhanh Ch√≥ng</h1>
            <p class="lead">Ch·ªçn s√¢n, ch·ªçn gi·ªù v√† thanh to√°n ch·ªâ trong v√†i ph√∫t.</p>
            <a href="#booking-section" class="btn btn-light btn-lg rounded-pill px-4 py-2 fw-bold">
                B·∫Øt ƒë·∫ßu ƒë·∫∑t s√¢n
            </a>
        </div>
    </header>

    <main class="container" id="booking-section">
        <div class="row g-4">

            <div class="col-lg-8">
                <div class="card shadow-sm p-4">
                    <h2 class="mb-4 border-bottom pb-2">Ch·ªçn S√¢n v√† Th·ªùi Gian</h2>
                    
                    <form id="booking-form">
                        <!-- Ch·ªçn Ng√†y -->
                        <div class="mb-3">
                            <label for="date-picker" class="form-label fs-5 fw-bold">1. Ch·ªçn Ng√†y</label>
                            <input type="date" class="form-control form-control-lg rounded-3" id="date-picker" required>
                        </div>

                        <!-- Ch·ªçn S√¢n -->
                        <div class="mb-3">
                            <label for="court-select" class="form-label fs-5 fw-bold">2. Ch·ªçn S√¢n</label>
                            <select class="form-select form-select-lg rounded-3" id="court-select" required>
                                <option value="" selected disabled>-- Vui l√≤ng ch·ªçn s√¢n --</option>
                                <option value="S√¢n 1" data-price="100000">S√¢n 1 (Th∆∞·ªùng)</option>
                                <option value="S√¢n 2" data-price="100000">S√¢n 2 (Th∆∞·ªùng)</option>
                                <option value="S√¢n 3 (VIP)" data-price="150000">S√¢n 3 (VIP - Th·∫£m m·ªõi)</option>
                                <option value="S√¢n 4 (VIP)" data-price="150000">S√¢n 4 (VIP - Th·∫£m m·ªõi)</option>
                            </select>
                        </div>

                        <!-- Ch·ªçn Gi·ªù -->
                        <div class="mb-3">
                            <label class="form-label fs-5 fw-bold">3. Ch·ªçn Khung Gi·ªù</label>
                            <p class="text-muted">Gi√° m·ªói khung gi·ªù 1 ti·∫øng. Vui l√≤ng ch·ªçn 1 khung gi·ªù.</p>
                            
                            <!-- Khung gi·ªù s√°ng -->
                            <h6 class="mt-3">Bu·ªïi S√°ng (6:00 - 12:00)</h6>
                            <div id="morning-slots" class="d-flex flex-wrap gap-2">
                                <button type="button" class="btn btn-outline-primary rounded-pill time-slot" data-time="6:00 - 7:00">6:00 - 7:00</button>
                                <button type="button" class="btn btn-outline-primary rounded-pill time-slot" data-time="7:00 - 8:00">7:00 - 8:00</button>
                                <button type="button" class="btn btn-outline-primary rounded-pill time-slot" data-time="8:00 - 9:00">8:00 - 9:00</button>
                                <button type="button" class="btn btn-outline-primary rounded-pill time-slot" data-time="9:00 - 10:00">9:00 - 10:00</button>
                                <button type="button" class="btn btn-outline-secondary rounded-pill time-slot" data-time="10:00 - 11:00" disabled>10:00 - 11:00 (ƒê√£ ƒë·∫∑t)</button>
                                <button type="button" class="btn btn-outline-primary rounded-pill time-slot" data-time="11:00 - 12:00">11:00 - 12:00</button>
                            </div>

                            <!-- Khung gi·ªù chi·ªÅu/t·ªëi -->
                            <h6 class="mt-4">Bu·ªïi Chi·ªÅu & T·ªëi (14:00 - 22:00)</h6>
                            <div id="afternoon-slots" class="d-flex flex-wrap gap-2">
                                <button type="button" class="btn btn-outline-primary rounded-pill time-slot" data-time="14:00 - 15:00">14:00 - 15:00</button>
                                <button type="button" class="btn btn-outline-primary rounded-pill time-slot" data-time="15:00 - 16:00">15:00 - 16:00</button>
                                <button type="button" class="btn btn-outline-primary rounded-pill time-slot" data-time="16:00 - 17:00">16:00 - 17:00</button>
                                <button type="button" class="btn btn-outline-primary rounded-pill time-slot" data-time="17:00 - 18:00">17:00 - 18:00</button>
                                <button type="button" class="btn btn-outline-primary rounded-pill time-slot" data-time="18:00 - 19:00">18:00 - 19:00</button>
                                <button type="button" class="btn btn-outline-secondary rounded-pill time-slot" data-time="19:00 - 20:00" disabled>19:00 - 20:00 (ƒê√£ ƒë·∫∑t)</button>
                                <button type="button" class="btn btn-outline-primary rounded-pill time-slot" data-time="20:00 - 21:00">20:00 - 21:00</button>
                                <button type="button" class="btn btn-outline-primary rounded-pill time-slot" data-time="21:00 - 22:00">21:00 - 22:00</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <!-- C·ªôt b√™n ph·∫£i: T√≥m t·∫Øt ƒë∆°n h√†ng -->
            <div class="col-lg-4">
                <div class="card shadow-sm p-4 sticky-summary">
                    <h2 class="mb-3 border-bottom pb-2">Th√¥ng Tin ƒê·∫∑t S√¢n</h2>
                    <div id="summary">
                        <p class="fs-5"><strong>Ng√†y:</strong> <span id="summary-date" class="text-muted">Ch∆∞a ch·ªçn</span></p>
                        <p class="fs-5"><strong>S√¢n:</strong> <span id="summary-court" class="text-muted">Ch∆∞a ch·ªçn</span></p>
                        <p class="fs-5"><strong>Gi·ªù:</strong> <span id="summary-time" class="text-muted">Ch∆∞a ch·ªçn</span></p>
                        <hr>
                        <div class="d-flex justify-content-between align-items-center">
                            <span class="fs-4 fw-bold">T·ªïng c·ªông:</span>
                            <span id="summary-total" class="fs-3 fw-bold text-success">0 VNƒê</span>
                        </div>
                    </div>
                    
                    <!-- N√∫t n√†y s·∫Ω k√≠ch ho·∫°t Modal c·ªßa Bootstrap -->
                    <button class="btn btn-success btn-lg w-100 mt-4 rounded-pill" id="book-button" disabled
                        data-bs-toggle="modal" data-bs-target="#confirmationModal">
                        X√°c Nh·∫≠n ƒê·∫∑t S√¢n
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- ======== FOOTER ======== -->
    <footer class="bg-dark text-white text-center p-4 mt-5">
        <div class="container">
            <p class="mb-0">&copy; 2025 H·ªá Th·ªëng ƒê·∫∑t S√¢n C·∫ßu L√¥ng. Ph√°t tri·ªÉn v·ªõi Bootstrap 5.</p>
        </div>
    </footer>

    <!-- ======== MODAL X√ÅC NH·∫¨N (D√πng JS c·ªßa Bootstrap) ======== -->
    <div class="modal fade" id="confirmationModal" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content rounded-3">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title" id="modalLabel">ƒê·∫∑t S√¢n Th√†nh C√¥ng!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body fs-5">
                    <p>C·∫£m ∆°n b·∫°n ƒë√£ tin t∆∞·ªüng d·ªãch v·ª• c·ªßa ch√∫ng t√¥i.</p>
                    <div id="modal-summary-details">
                        <!-- Chi ti·∫øt s·∫Ω ƒë∆∞·ª£c th√™m b·∫±ng JS -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary rounded-pill px-4" data-bs-dismiss="modal">Tuy·ªát v·ªùi!</button>
                </div>
            </div>
        </div>
    </div>


    <!-- 1. Link Bootstrap 5 JS (Bundle) (Nh∆∞ b·∫°n ƒë√£ cung c·∫•p) -->
    <!-- ƒê√£ bao g·ªìm Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

    <!-- 2. JavaScript t√πy ch·ªânh ƒë·ªÉ x·ª≠ l√Ω logic -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // L·∫•y c√°c ph·∫ßn t·ª≠ DOM
            const datePicker = document.getElementById('date-picker');
            const courtSelect = document.getElementById('court-select');
            const timeSlots = document.querySelectorAll('.time-slot:not([disabled])');
            const bookButton = document.getElementById('book-button');
            
            // C√°c ph·∫ßn t·ª≠ hi·ªÉn th·ªã t√≥m t·∫Øt
            const summaryDate = document.getElementById('summary-date');
            const summaryCourt = document.getElementById('summary-court');
            const summaryTime = document.getElementById('summary-time');
            const summaryTotal = document.getElementById('summary-total');
            const modalSummary = document.getElementById('modal-summary-details');

            // Bi·∫øn l∆∞u tr·ªØ th√¥ng tin ƒë·∫∑t s√¢n
            let booking = {
                date: '',
                court: '',
                time: '',
                price: 0
            };

            // H√†m c·∫≠p nh·∫≠t giao di·ªán t√≥m t·∫Øt
            function updateSummary() {
                // C·∫≠p nh·∫≠t vƒÉn b·∫£n
                summaryDate.textContent = booking.date || 'Ch∆∞a ch·ªçn';
                summaryCourt.textContent = booking.court || 'Ch∆∞a ch·ªçn';
                summaryTime.textContent = booking.time || 'Ch∆∞a ch·ªçn';
                
                // C·∫≠p nh·∫≠t gi√°
                const selectedOption = courtSelect.options[courtSelect.selectedIndex];
                const price = selectedOption.dataset.price ? parseInt(selectedOption.dataset.price) : 0;
                
                if (booking.time) { // Ch·ªâ t√≠nh ti·ªÅn khi ƒë√£ ch·ªçn gi·ªù
                    booking.price = price;
                } else {
                    booking.price = 0;
                }
                
                summaryTotal.textContent = `${booking.price.toLocaleString('vi-VN')} VNƒê`;

                // Ki·ªÉm tra v√† b·∫≠t/t·∫Øt n√∫t "X√°c Nh·∫≠n"
                if (booking.date && booking.court && booking.time) {
                    bookButton.disabled = false;
                } else {
                    bookButton.disabled = true;
                }
            }

            // G√°n ng√†y h√¥m nay l√† ng√†y t·ªëi thi·ªÉu cho date picker
            const today = new Date().toISOString().split('T')[0];
            datePicker.setAttribute('min', today);

            // Th√™m s·ª± ki·ªán
            datePicker.addEventListener('change', function() {
                booking.date = this.value;
                updateSummary();
            });

            courtSelect.addEventListener('change', function() {
                booking.court = this.value;
                updateSummary(); // C·∫≠p nh·∫≠t l·∫°i gi√° khi ƒë·ªïi s√¢n
            });

            timeSlots.forEach(slot => {
                slot.addEventListener('click', function() {
                    // B·ªè ch·ªçn t·∫•t c·∫£ c√°c slot kh√°c
                    timeSlots.forEach(s => s.classList.remove('active', 'btn-primary'));
                    timeSlots.forEach(s => s.classList.add('btn-outline-primary'));

                    // Ch·ªçn slot n√†y
                    this.classList.add('active', 'btn-primary');
                    this.classList.remove('btn-outline-primary');
                    
                    booking.time = this.dataset.time;
                    updateSummary();
                });
            });

            // X·ª≠ l√Ω khi nh·∫•n n√∫t "X√°c Nh·∫≠n" (tr∆∞·ªõc khi modal hi·ªÉn th·ªã)
            bookButton.addEventListener('click', function() {
                if (!this.disabled) {
                    // ƒêi·ªÅn th√¥ng tin v√†o modal
                    modalSummary.innerHTML = `
                        <p><strong>Ng√†y:</strong> ${booking.date}</p>
                        <p><strong>S√¢n:</strong> ${booking.court}</p>
                        <p><strong>Gi·ªù:</strong> ${booking.time}</p>
                        <hr>
                        <p class="fs-4 fw-bold">T·ªïng thanh to√°n: <span class="text-success">${booking.price.toLocaleString('vi-VN')} VNƒê</span></p>
                    `;
                }
            });
            
            // S·ª± ki·ªán khi modal ƒë√£ ƒë√≥ng
            const confirmationModal = document.getElementById('confirmationModal');
            confirmationModal.addEventListener('hidden.bs.modal', function () {
                // Reset form v√† booking
                document.getElementById('booking-form').reset();
                timeSlots.forEach(s => s.classList.remove('active', 'btn-primary'));
                timeSlots.forEach(s => s.classList.add('btn-outline-primary'));

                booking = { date: '', court: '', time: '', price: 0 };
                updateSummary(); // C·∫≠p nh·∫≠t l·∫°i summary v·ªÅ tr·∫°ng th√°i ban ƒë·∫ßu
            });

            // Kh·ªüi t·∫°o gi√° tr·ªã ban ƒë·∫ßu
            updateSummary();
        });
    </script>
</body>
</html>